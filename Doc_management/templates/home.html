{% extends 'base.html' %}

{% block content %}


{% load static %}


<style>
  .card {
    width: 18rem; /* Ajusta el ancho de la tarjeta a tu preferencia */
    height: auto; /* Altura automática para mantener la proporción, pero podrías fijar un mínimo */
    display: flex;
    flex-direction: column;
  }
  .card-img-top {
    width: 100%; /* Hace que la imagen cubra el ancho de la tarjeta */
    height: 15vw; /* Establece una altura fija o usa 'auto' si prefieres mantener la proporción */
    object-fit: cover; /* Asegura que la imagen cubra el espacio asignado sin perder proporción */
  }
  .card-body {
    flex-grow: 1; /* Hace que el cuerpo de la tarjeta ocupe el espacio restante, manteniendo los botones abajo */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
</style>

{% if user.is_authenticated %}
<div class="container-fluid">
  <!-- Barra lateral -->
  <nav class="vertical-navbar">
    
    <div class="container">
      <ul>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='A' %}">Taller A</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='B' %}">Taller B</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='C' %}">Taller C</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='D' %}">Taller D</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='E' %}">Taller E</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='F' %}">Taller F</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='G' %}">Taller G</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='H' %}">Taller H</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='I' %}">Taller I</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='J' %}">Taller J</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='K' %}">Taller K</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='L' %}">Taller L</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='M' %}">Taller M</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='N' %}">Taller N</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='O' %}">Taller O</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='P' %}">Taller P</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='Q' %}">Taller Q</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='R' %}">Taller R</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='S' %}">Taller S</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='T' %}">Taller T</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='U' %}">Taller U</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='V' %}">Taller V</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='W' %}">Taller W</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='X' %}">Taller X</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='Y' %}">Taller Y</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'estudiantes_por_taller' taller_id='Z' %}">Taller Z</a>
        </li>
      </ul>
    </div>
  </nav>
</div>


<div class="container">
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% if query %}
            {% for estudiante in estudiantes %}
                <div class="col">
                    <div class="card" style="width: 18rem;">
                        <img src="{{ estudiante.image.url }}" class="card-img-top" alt="Estudiante Image">
                        <div class="card-body">
                            <h5 class="card-title"><a href="{% url 'record' estudiante.id %}">{{ estudiante.nombre }} {{ estudiante.apellido }}</a></h5>
                            <p class="card-text"><strong>Cedula:</strong>{{ estudiante.cedula}}</p>
                            <p class="card-text"><strong>Edad:</strong>{{ estudiante.edad}}</p>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="col">
                    <p>No se encontraron resultados para "{{ query }}"</p>
                </div>
            {% endfor %}
        {% else %}
            {% for estudiante in Estudiante %}
                <div class="col">
                    <div class="card" style="width: 18rem;">
                        <img src="{% if estudiante.image %}{{ estudiante.image.url }}{% else %}{% static 'estudiantes/images/DSC_1379.JPG' %}{% endif %}" class="card-img-top" alt="Imagen del estudiante">
                        <div class="card-body">
                            <h5 class="card-title"><a href="{% url 'record' estudiante.id %}">{{ estudiante.nombre }} {{ estudiante.apellido }}</a></h5>
                            <p class="card-text"><strong>Cedula: </strong>{{ estudiante.cedula}}</p>
                            <p class="card-text"><strong>Edad: </strong>{{ estudiante.edad}}</p>
                            <p class="card-text"><strong>Taller: </strong>{{ estudiante.taller}}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    </div>
</div>

{% else %}



<div class="col-md-6 offset-md-3">
<h1>Login</h1>
<br/>

<form method="POST" action="{% url 'home' %}">
	{% csrf_token %}

  <div class="mb-3">
    <input type="text" class="form-control" name="username", placeholder="Username" required>
    
  </div><br/>
  <div class="mb-3">
    <input type="password" class="form-control" name="password", placeholder="Password" required>
  </div>
  <br/>
  <button type="submit" class="btn btn-secondary">Login</button>

</form>



{% endif %}

{% endblock %}